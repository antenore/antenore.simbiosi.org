---
layout: page
title: Thanks for your comment
permalink: /thanks/
---

<div class="thanks-container">
  <h1>Thank you for your comment!</h1>
  <p>Your comment has been received and will be moderated as soon as possible.</p>
  <p>You will be redirected to the previous page in <span id="countdown">5</span> seconds...</p>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get the referrer URL (where the user came from)
    let referrer = document.referrer;
    
    // If no referrer, redirect to the home page
    if (!referrer) {
      referrer = '{{ site.url }}';
    }
    
    // Prevent form resubmission issues when user goes back
    // Add a random parameter to the URL to force a new load
    if (referrer.indexOf('?') > -1) {
      referrer += '&nocache=' + new Date().getTime();
    } else {
      referrer += '?nocache=' + new Date().getTime();
    }
    
    // Start countdown
    let seconds = 5;
    const countdownElement = document.getElementById('countdown');
    
    const interval = setInterval(function() {
      seconds--;
      countdownElement.textContent = seconds;
      
      if (seconds <= 0) {
        clearInterval(interval);
        // Use replaceState to prevent user from going back to the thank you page with the back button
        window.history.replaceState(null, '', referrer);
        window.location.replace(referrer);
      }
    }, 1000);
    
    // Clear form history
    if (window.history && window.history.replaceState) {
      window.history.replaceState(null, document.title, window.location.href);
    }
  });
</script>

<style>
  .thanks-container {
    text-align: center;
    padding: 2rem;
    margin: 2rem auto;
    max-width: 600px;
    border-radius: 8px;
    background-color: #f9f9f9;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }
  
  .thanks-container h1 {
    color: #2c3e50;
    margin-bottom: 1.5rem;
  }
  
  .thanks-container p {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #34495e;
  }
  
  #countdown {
    font-weight: bold;
    color: #e74c3c;
  }
</style>